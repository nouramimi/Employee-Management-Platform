<div *ngIf="errorMessage" class="error">{{ errorMessage | translate }}</div>

<h2 i18n="@@employee-management-title">{{ 'employee-management-title' | translate }}</h2>
<div class="button-container">
    <button (click)="navigateToAddEmployee()" i18n="@@button-add-employee">{{ 'button-add-employee' | translate }}</button>
</div>
<hr>
<div>
    <input type="text" placeholder="Filter by User Name" [(ngModel)]="filters.userName" class="filter-input" i18n-placeholder="@@filter-user-name-placeholder">
    <input type="text" placeholder="Filter by User Login" [(ngModel)]="filters.userLogin" class="filter-input" i18n-placeholder="@@filter-user-login-placeholder">
    <button (click)="applyFilters()" i18n="@@button-search">{{ 'button-search' | translate }}</button>
</div>
<hr>
<table class="employee-table">
    <thead>
      <tr>
        <th class="id-column" i18n="@@table-header-id">{{ 'table-header-id' | translate }}</th>
        <th class="username-column" i18n="@@table-header-username">{{ 'table-header-username' | translate }}</th>
        <th class="userlogin-column" i18n="@@table-header-userlogin">{{ 'table-header-userlogin' | translate }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let employee of filteredEmployees | paginate: { itemsPerPage: itemsPerPage, currentPage: page }">
        <td>
          <input *ngIf="selectedEmployee?.id === employee.id"
                 [(ngModel)]="selectedEmployee.id"
                 readonly>
          <span *ngIf="selectedEmployee?.id !== employee.id">{{ employee.id }}</span>
        </td>
        <td>
          <input *ngIf="selectedEmployee?.id === employee.id"
                 [(ngModel)]="selectedEmployee.userName"
                 (keyup.enter)="saveEmployee()">
          <span *ngIf="selectedEmployee?.id !== employee.id">{{ employee.userName }}</span>
        </td>
        <td>
          <input *ngIf="selectedEmployee?.id === employee.id"
                 [(ngModel)]="selectedEmployee.userLogin"
                 (keyup.enter)="saveEmployee()">
          <span *ngIf="selectedEmployee?.id !== employee.id">{{ employee.userLogin }}</span>
        </td>
        <td>
            <button (click)="navigateToEditEmployee(employee.id)" i18n="@@button-edit">{{ 'button-edit' | translate }}</button>
            <button (click)="navigateToViewEmployee(employee.id)" i18n="@@button-view">{{ 'button-view' | translate }}</button>
            <button (click)="deleteEmployee(employee.id)" i18n="@@button-delete">{{ 'button-delete' | translate }}</button>
        </td>
      </tr>
    </tbody>
</table>
<hr>
<div class="pagination-container">
    <pagination-controls (pageChange)="page = $event"></pagination-controls>
</div>
